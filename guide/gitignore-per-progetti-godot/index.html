<!doctype html><html lang=en>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-112742714-2"></script>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta property="og:site_name" content="Crystal Bit">
<title> gitignore per progetti Godot </title>
<meta property="og:image" itemprop=image content="/img/logo.png">
<meta name=description content="Le prime volte con Godot avevo dubbi su quali file includere nella storia git.
In questa guida ho …">
<meta property="og:title" content="gitignore per progetti Godot">
<meta property="og:url" content="https://crystal-bit.github.io/guide/gitignore-per-progetti-godot/">
<meta property="og:description" content="Le prime volte con Godot avevo dubbi su quali file includere nella storia git.
In questa guida ho …">
<meta property="og:type" content="article">
<link href="https://fonts.googleapis.com/css?family=Quantico" rel=stylesheet>
<link href="https://fonts.googleapis.com/css?family=Chakra+Petch" rel=stylesheet>
<link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i&display=swap" rel=stylesheet>
<link rel="shortcut icon" type=image/x-icon href=/img/logo-transparent.png>
<link rel=stylesheet href=https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css integrity=sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4 crossorigin=anonymous>
<link rel=stylesheet href=https://use.fontawesome.com/releases/v5.2.0/css/all.css integrity=sha384-hWVjflwFxL6sNzntih27bfxkr27PmbbK/iSvJ+a4+0owXq79v+lsFkW54bOGbiDQ crossorigin=anonymous>
<link rel=stylesheet href=/css/main.css>
</head>
<body data-gr-c-s-loaded=true>
<script src=https://code.jquery.com/jquery-3.3.1.slim.min.js integrity=sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo crossorigin=anonymous defer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js integrity=sha384-cs/chFZiN24E4KMATLdqdvsezGxaGsi4hLGOzlXwp5UZB1LY//20VyM2taTB4QvJ crossorigin=anonymous defer></script>
<script src=https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js integrity=sha384-uefMccjFJAIv6A+rW+L4AHf99KvxDjWSu1z9VI8SKNVmz4sk7buKt/6v9KI65qnm crossorigin=anonymous defer></script>
<script src=https://use.fontawesome.com/03364e4af9.js defer></script>
<div class="body-container d-flex h-100 py-3 mx-auto flex-column">
<header class=masthead>
<div class=inner>
<h3 class=masthead-brand>
<a id=main-logo-link href=/>
<img id=logo src=/img/logo-transparent.png class=img-fluid alt>
<span class=anim-left style=font-size:.8em>CRYSTAL BIT</span>
</a>
</h3>
<nav class="nav nav-masthead justify-content-center">
<a class="nav-link
anim-left" href=/about/> ABOUT </a>
<a class="nav-link
anim-left
active" href=/guide/> GUIDE </a>
<a class="nav-link
anim-left" href=/blog/> BLOG </a>
<a class="nav-link
anim-left" href=/supporter/> SUPPORTER </a>
</nav>
</div>
</header>
<div class=main-container>
<div class="card rounded-container my-3">
<div id=post-container class="card-body rounded-container-overlap">
<h2 class=card-title> gitignore per progetti Godot </h2>
<div>
<div class=row style=padding-top:.5em>
<div class=col>
<span class="badge badge-secondary">Godot Engine</span>
</div>
<div class=col>
<p class="text-right small">
<span class=font-weight-light>Pubblicazione:</span>
3/6/2020
</p>
</div>
</div>
</div>
<hr>
<div id=post-body class=card-text>
<p>Le prime volte con Godot avevo dubbi su quali file includere nella storia git.</p>
<p>In questa guida ho riassunto le informazioni che mi sono state più utili per configurare i repository git per i progetti Godot.</p>
<h2 id=quali-file-ignorare>Quali file ignorare?</h2>
<p>Senza tanti giri di parole, questo è un template di <em>.gitignore</em> che uso spesso per i miei progetti, lo trovate su <a href=https://github.com/github/gitignore/blob/master/Godot.gitignore>questo repository</a> GitHub:</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#75715e># Godot-specific ignores</span>
.import/
export.cfg
export_presets.cfg

<span style=color:#75715e># Imported translations (automatically generated from CSV files)</span>
*.translation

<span style=color:#75715e># Mono-specific ignores</span>
.mono/
data_*/
</code></pre></div><p>Tutti questi file (pattern, a voler essere precisi) vengono ignorati da git; si
tratta dei file che generalmente si possono escludere dai progetti Godot senza
grosse preoccupazioni.</p>
<p>La parte che genera più confusione è quella che riguarda gli import, quindi partiamo proprio da questa.</p>
<h3 id=premessa>Premessa</h3>
<p>Prima di continuare, è importante sottolineare che <code>.import/</code> e <code>*.import</code> sono due pattern totalmente diversi. Questi due pattern sono interpretabili come:</p>
<ul>
<li><code>.import/</code>: la cartella <em>.import</em> ed il suo contenuto</li>
<li><code>*.import</code> : tutti i file che hanno estensione <em>.import</em></li>
</ul>
<p>Notate anche che il primo è presente nel <em>.gitignore</em> che vi ho mostrato poco fa, il secondo è invece assente.<br>
Significa che la cartella <em>.import/</em> viene ignorata, ma i singoli file <em>.import</em> presenti nelle altre cartelle del progetto vengono invece inclusi nella storia di git!</p>
<p>Sì è un po' contorto, ma qui sotto vi spiego perché è importante tracciare questi file e da dove saltano fuori.</p>
<h2 id=perché-è-importante-tracciare-i-file-import>Perché è importante tracciare i file <code>*.import</code></h2>
<p>Supponiamo di star sviluppando un gioco pixel art e di importare la sprite del nostro personaggio:</p>
<p><img src=./1.png alt=alt>
<div class="text-center my-4">
<figure class="figure my-0">
<img src=./2.png class="figure-img img-fluid rounded">
<figcaption class=figure-caption>
<p>
Le sprite sono prese dalla pagina itch.io di <a href=https://securas.itch.io/animated-pixel-shooter-character>Securas.</a>
</p>
</figcaption>
</figure>
</div>
</p>
<p>La prima immagine è come Godot importa le sprite di default.</p>
<p>La seconda, più definita, è stata re-importata disabilitando l&rsquo;opzione <code>filter</code>.</p>
<p>Quando cambiamo la configurazione di import, Godot salva queste informazioni sul file <code>shooter_character.png.import</code>.
Se vogliamo assicurarci che l&rsquo;asset venga importato correttamente anche in futuro (es: se qualcuno clone il repository da GitHub),
dobbiamo assicurarci di tenere traccia di questo file.</p>
<p>La buona notizia è che i file <code>*.import</code> sono file testuali in formato pseudo <code>.ini</code>: sono quindi molto leggeri e
non appestantiscono le dimensioni del repository.</p>
<blockquote>
<p>Il formato è definito pseudo <code>.ini</code> perché non segue nessuno standard particolare ma è invece specifico per Godot Engine, come spiegato da Juan Linietsky <a href=https://github.com/godotengine/godot/issues/10069>qui</a>.</p>
</blockquote>
<h2 id=a-cosa-serve-allora-la-cartella-import>A cosa serve allora la cartella .import?</h2>
<p>Ogni volta che aggiungiamo un assset nel gioco Godot genera automaticamente:</p>
<ul>
<li>una cartella <code>.import/</code> nella root del progetto (se non è già presente)</li>
<li>un file ottimizzato nella cartella <code>.import/</code>.</li>
<li>un file testuale <code>*.import</code> a fianco dell&rsquo;immagine caricata (normalmente nella cartella <em>assets/</em>)</li>
</ul>
<p>Di fatto la cartella <em>.import/</em> è una sorta di cache: <strong>Godot è sempre in grado di ricostruirne il contenuto</strong> a partire dagli asset originali.<br>
Per questo motivo può essere ignorata senza problemi.</p>
<p>I file <code>*.import</code> devono essere invece conservati perché contengono informazioni su come quell&rsquo;asset viene importato.</p>
<blockquote>
<p>Sulla documentazione ufficiale trovate <a href=https://docs.godotengine.org/en/3.2/getting_started/workflow/assets/import_process.html>questa pagina</a>
che approfondisce il processo di import.</p>
</blockquote>
<blockquote>
<p>Se siete curiosi potete controllare il codice sorgente degli importer all&rsquo;interno di <a href=https://github.com/godotengine/godot/tree/3.2/editor/import><code>godot/editor/import</code></a>.</p>
</blockquote>
<h2 id=gli-altri-file>Gli altri file</h2>
<p>Prima di chiudere la guida, analizziamo gli altri file che sono elencati nel
<em>.gitignore</em> che ho mostrato all&rsquo;inizio.</p>
<p>I file <code>export.cfg</code> e <code>export_presets.cfg</code> sono i file di configurazione di
export per il progetto. Le impostazioni che vengono salvate, sono quelle che
specifichiamo nella finestra di export.</p>
<p><img src=./godot-3-export-settings.png alt="Godot 3 Export settings window"></p>
<p>Normalmente questi file devono essere ignorati perché possono contenere alcune
informazioni sensibili (ad esempio la keystore password per generare un APK
Android).</p>
<p>A volte però può avere senso includere questi file per avere un processo di build replicabile anche da altre persone. Alcuni esempi in cui vale la pena includere questi file sono:</p>
<ul>
<li>gioco mobile che richiede determinati permessi abilitati</li>
<li>gioco che necessita di un template di export custom</li>
</ul>
<p>I file <code>*.translation</code> sono generati da Godot a partire dai file CSV. Potete ignorare questi file perché verranno ricreati automaticamente da Godot quando ne avrà bisogno.</p>
<p><code>.mono/</code> e <code>data_*/</code> sono cartelle usate dalla versione C# di Godot. Non ho mai usato questa versione e non so dirvi esattamente cosa contengano.<br>
Comunque se state usando la versione classica di Godot con <strong>GDScript</strong>, potete tranquillamente eliminare queste righe dal <em>.gitignore</em>.</p>
<h2 id=conclusione>Conclusione</h2>
<p>Con questa guida spero di aver dato qualche informaizone utile per effettuare un setup più veloce e consapevole di un progetto Godot con git.</p>
<p>Mi raccomando, fate i bravi con <code>git</code>, tool che mette a dura prova molti sviluppatori. Vale sempre la pena investire un po' di tempo per mantenere il proprio progetto tracciato con un control version system.</p>
<p>Ricordate di committare spesso e buon gamedev!</p>
</div>
</div>
</div>
<hr>
<div class="card rounded-container my-3">
<div id=post-container class="card-body rounded-container-overlap">
<h5>SUPPORTAMI</h5>
<p>
Questo sito web è privo di pubblicità ed i contenuti vengono rilasciati con licenze libere come CC-BY-SA e GPL.
</p>
<p> Se i contenuti ti piacciono e ti sono stati utili, considera
di supportare il progetto.
</p>
<p>
Visita <a href=https://crystal-bit.github.io/supporter/>la pagina
supporter</a>.
</p>
</div>
</div>
<hr>
<footer class="mastfoot mt-auto">
<div class=row style=margin:auto>
<div class=col-sm-8>
<p>
<a rel=license href=http://creativecommons.org/licenses/by-sa/4.0/></a>
<a rel=license href=http://creativecommons.org/licenses/by-sa/4.0/>
<img alt="Creative Commons License" style=border-width:0 src=https://i.creativecommons.org/l/by-sa/4.0/80x15.png>
</a>
<span style=margin-left:6px>
Davide Cristini, 2021.
</span>
</p>
</div>
<div class="col-sm-4 info">
<a href=mailto:vitrumbit@gmail.com>
Segnala un problema
</a>
</div>
</div>
</footer>
</div>
</div>
<script type=text/javascript src="https://cdn.jsdelivr.net/npm/cookie-bar/cookiebar-latest.min.js?forceLang=it&tracking=1&thirdparty=1&always=1"></script>
<script>function enableGoogleAnalytics(){window.dataLayer=window.dataLayer||[];function a(){dataLayer.push(arguments)}a('js',new Date),a('config',"UA-112742714-2")}function getCookiesAsObj(){return document.cookie.split(';').reduce((b,d)=>{const[c,a]=d.trim().split('=').map(decodeURIComponent),e=a=>/^\d+$/.test(a);try{return Object.assign(b,{[c]:e(a)?a:JSON.parse(a)})}catch(d){return Object.assign(b,{[c]:a})}},{})}document.addEventListener("DOMContentLoaded",function(b){const a=getCookiesAsObj();console.log('DEBUG: DOM loaded.'),a.cookiebar==='CookieAllowed'?(enableGoogleAnalytics(),console.log('DEBUG: ga enabled')):document.addEventListener('click',b=>{const a=getCookiesAsObj();console.log('DEBUG: click. Cookiebar is ',a.cookiebar==='CookieAllowed'),a.cookiebar==='CookieAllowed'&&this.enableGoogleAnalytics()})})</script>
</body>
</html>